"use strict";(()=>{var e={};e.id=505,e.ids=[505],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5232:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>q,staticGenerationBailout:()=>f});var o={};r.r(o),r.d(o,{GET:()=>c,POST:()=>d});var a=r(5419),u=r(9108),s=r(9678),i=r(8070),n=r(8093);async function c(){try{let e=await n._.quote.findMany({include:{user:!0,items:{include:{product:!0}}},orderBy:{createdAt:"desc"}});return i.Z.json(e)}catch(e){return console.error("Error fetching quotes:",e),i.Z.json({error:"Failed to fetch quotes"},{status:500})}}async function d(e){try{let{customerName:t,customerEmail:r,projectName:o,description:a,items:u,subtotal:s,markup:c,fees:d,total:p}=await e.json(),l=await n._.quote.create({data:{customerName:t,customerEmail:r,projectName:o,description:a,subtotal:parseFloat(s),markup:parseFloat(c),fees:parseFloat(d),total:parseFloat(p),userId:1,items:{create:u.map(e=>({productId:e.productId,quantity:e.quantity,price:e.price}))}},include:{items:{include:{product:!0}}}});return i.Z.json(l)}catch(e){return console.error("Error creating quote:",e),i.Z.json({error:"Failed to create quote"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/quotes/route",pathname:"/api/quotes",filename:"route",bundlePath:"app/api/quotes/route"},resolvedPagePath:"D:\\Google Drive\\Code\\LED Quote Builder Cursor V1\\app\\api\\quotes\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:q,serverHooks:m,headerHooks:h,staticGenerationBailout:f}=p,g="/api/quotes/route";function y(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:q})}},8093:(e,t,r)=>{r.d(t,{_:()=>a});let o=require("@prisma/client"),a=globalThis.prisma??new o.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(5232));module.exports=o})();