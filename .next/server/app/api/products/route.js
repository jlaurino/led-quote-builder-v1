"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7617:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>I,patchFetch:()=>M,requestAsyncStorage:()=>s,routeModule:()=>l,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>n});var i=a(5419),o=a(9108),d=a(9678),c=a(8070),p=a(8093);async function u(e){try{let{searchParams:t}=new URL(e.url),a=t.get("category"),r=await p._.product.findMany({where:a?{category:a}:{},include:{ledTile:!0,ledProcessor:!0,powerEquipment:!0,computing:!0,lighting:!0,audio:!0,camera:!0,gripEquipment:!0,structuralItem:!0,gripItem:!0,networking:!0,cable:!0,hardware:!0}});return c.Z.json(r||[])}catch(e){return console.error("Error fetching products:",e),c.Z.json([])}}async function n(e){try{let{name:t,category:a,subcategory:r,manufacturer:i,modelNumber:o,unitCost:d,unitPrice:u,specs:n,ledTile:l,ledProcessor:s,powerEquipment:g,computing:w,lighting:m,audio:h,camera:I,gripEquipment:M,structuralItem:_,gripItem:S,networking:v,cable:E,hardware:F,...P}=await e.json(),q=await p._.product.create({data:{name:t,category:a,subcategory:r,manufacturer:i,modelNumber:o,unitCost:parseFloat(d),unitPrice:u?parseFloat(u):null,specs:n||{},widthMm:P.widthMm?parseFloat(P.widthMm):null,heightMm:P.heightMm?parseFloat(P.heightMm):null,depthMm:P.depthMm?parseFloat(P.depthMm):null,weightKg:P.weightKg?parseFloat(P.weightKg):null,powerW:P.powerW?parseFloat(P.powerW):null,voltageMin:P.voltageMin?parseFloat(P.voltageMin):null,voltageMax:P.voltageMax?parseFloat(P.voltageMax):null}});l&&await p._.lEDTileSpec.create({data:{productId:q.id,...l}}),s&&await p._.lEDProcessorSpec.create({data:{productId:q.id,...s}}),g&&await p._.powerEquipmentSpec.create({data:{productId:q.id,...g}}),w&&await p._.computingSpec.create({data:{productId:q.id,...w}}),m&&await p._.lightingSpec.create({data:{productId:q.id,...m}}),h&&await p._.audioSpec.create({data:{productId:q.id,...h}}),I&&await p._.cameraSpec.create({data:{productId:q.id,...I}}),M&&await p._.gripEquipmentSpec.create({data:{productId:q.id,...M}}),_&&await p._.structuralItemSpec.create({data:{productId:q.id,..._}}),S&&await p._.gripItemSpec.create({data:{productId:q.id,...S}}),v&&await p._.networkingSpec.create({data:{productId:q.id,...v}}),E&&await p._.cableSpec.create({data:{productId:q.id,...E}}),F&&await p._.hardwareSpec.create({data:{productId:q.id,...F}});let y=await p._.product.findUnique({where:{id:q.id},include:{ledTile:!0,ledProcessor:!0,powerEquipment:!0,computing:!0,lighting:!0,audio:!0,camera:!0,gripEquipment:!0,structuralItem:!0,gripItem:!0,networking:!0,cable:!0,hardware:!0}});return c.Z.json(y)}catch(e){return console.error("Error creating product:",e),c.Z.json({error:"Failed to create product"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"D:\\Google Drive\\Code\\LED Quote Builder Cursor V1\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:s,staticGenerationAsyncStorage:g,serverHooks:w,headerHooks:m,staticGenerationBailout:h}=l,I="/api/products/route";function M(){return(0,d.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}},8093:(e,t,a)=>{a.d(t,{_:()=>i});let r=require("@prisma/client"),i=globalThis.prisma??new r.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(7617));module.exports=r})();