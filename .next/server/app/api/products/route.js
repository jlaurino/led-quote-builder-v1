"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7617:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>I,patchFetch:()=>M,requestAsyncStorage:()=>s,routeModule:()=>l,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>n});var i=a(5419),o=a(9108),d=a(9678),c=a(8070),p=a(8093);async function u(e){try{let{searchParams:t}=new URL(e.url),a=t.get("category"),r=await p._.product.findMany({where:a?{category:a}:{},include:{ledTile:!0,ledProcessor:!0,powerEquipment:!0,computing:!0,lighting:!0,audio:!0,camera:!0,gripEquipment:!0,structuralItem:!0,gripItem:!0,networking:!0,cable:!0,hardware:!0}});return c.Z.json(r)}catch(e){return console.error("Error fetching products:",e),c.Z.json({error:"Failed to fetch products"},{status:500})}}async function n(e){try{let{name:t,category:a,manufacturer:r,modelNumber:i,unitCost:o,unitPrice:d,specs:u,ledTile:n,ledProcessor:l,powerEquipment:s,computing:g,lighting:w,audio:m,camera:h,gripEquipment:I,structuralItem:M,gripItem:_,networking:S,cable:v,hardware:E,...F}=await e.json(),P=await p._.product.create({data:{name:t,category:a,manufacturer:r,modelNumber:i,unitCost:parseFloat(o),unitPrice:d?parseFloat(d):null,specs:u||{},widthMm:F.widthMm?parseFloat(F.widthMm):null,heightMm:F.heightMm?parseFloat(F.heightMm):null,depthMm:F.depthMm?parseFloat(F.depthMm):null,weightKg:F.weightKg?parseFloat(F.weightKg):null,powerW:F.powerW?parseFloat(F.powerW):null,voltageMin:F.voltageMin?parseFloat(F.voltageMin):null,voltageMax:F.voltageMax?parseFloat(F.voltageMax):null}});n&&await p._.lEDTileSpec.create({data:{productId:P.id,...n}}),l&&await p._.lEDProcessorSpec.create({data:{productId:P.id,...l}}),s&&await p._.powerEquipmentSpec.create({data:{productId:P.id,...s}}),g&&await p._.computingSpec.create({data:{productId:P.id,...g}}),w&&await p._.lightingSpec.create({data:{productId:P.id,...w}}),m&&await p._.audioSpec.create({data:{productId:P.id,...m}}),h&&await p._.cameraSpec.create({data:{productId:P.id,...h}}),I&&await p._.gripEquipmentSpec.create({data:{productId:P.id,...I}}),M&&await p._.structuralItemSpec.create({data:{productId:P.id,...M}}),_&&await p._.gripItemSpec.create({data:{productId:P.id,..._}}),S&&await p._.networkingSpec.create({data:{productId:P.id,...S}}),v&&await p._.cableSpec.create({data:{productId:P.id,...v}}),E&&await p._.hardwareSpec.create({data:{productId:P.id,...E}});let q=await p._.product.findUnique({where:{id:P.id},include:{ledTile:!0,ledProcessor:!0,powerEquipment:!0,computing:!0,lighting:!0,audio:!0,camera:!0,gripEquipment:!0,structuralItem:!0,gripItem:!0,networking:!0,cable:!0,hardware:!0}});return c.Z.json(q)}catch(e){return console.error("Error creating product:",e),c.Z.json({error:"Failed to create product"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"D:\\Google Drive\\Code\\LED Quote Builder Cursor V1\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:s,staticGenerationAsyncStorage:g,serverHooks:w,headerHooks:m,staticGenerationBailout:h}=l,I="/api/products/route";function M(){return(0,d.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}},8093:(e,t,a)=>{a.d(t,{_:()=>i});let r=require("@prisma/client"),i=globalThis.prisma??new r.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(7617));module.exports=r})();