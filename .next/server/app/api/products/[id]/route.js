"use strict";(()=>{var e={};e.id=898,e.ids=[898],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4223:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>M,patchFetch:()=>y,requestAsyncStorage:()=>c,routeModule:()=>s,serverHooks:()=>h,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>m});var r={};a.r(r),a.d(r,{DELETE:()=>d,PUT:()=>u});var i=a(5419),o=a(9108),n=a(9678),l=a(8070),p=a(8093);async function u(e,{params:t}){try{let{name:a,category:r,manufacturer:i,modelNumber:o,unitCost:n,unitPrice:u,specs:d,ledTile:s,ledProcessor:c,powerEquipment:w,computing:h,lighting:g,audio:m,camera:M,gripEquipment:y,structuralItem:_,gripItem:S,networking:v,cable:E,hardware:F,...P}=await e.json(),q=parseInt(t.id);await p._.product.update({where:{id:q},data:{name:a,category:r,manufacturer:i,modelNumber:o,unitCost:parseFloat(n),unitPrice:u?parseFloat(u):null,specs:d||{},widthMm:P.widthMm?parseFloat(P.widthMm):null,heightMm:P.heightMm?parseFloat(P.heightMm):null,depthMm:P.depthMm?parseFloat(P.depthMm):null,weightKg:P.weightKg?parseFloat(P.weightKg):null,powerW:P.powerW?parseFloat(P.powerW):null,voltageMin:P.voltageMin?parseFloat(P.voltageMin):null,voltageMax:P.voltageMax?parseFloat(P.voltageMax):null}}),s&&await p._.lEDTileSpec.upsert({where:{productId:q},update:s,create:{productId:q,...s}});let x=await p._.product.findUnique({where:{id:q},include:{ledTile:!0,ledProcessor:!0,powerEquipment:!0,computing:!0,lighting:!0,audio:!0,camera:!0,gripEquipment:!0,structuralItem:!0,gripItem:!0,networking:!0,cable:!0,hardware:!0}});return l.Z.json(x)}catch(e){return console.error("Error updating product:",e),l.Z.json({error:"Failed to update product"},{status:500})}}async function d(e,{params:t}){try{let e=parseInt(t.id);return await p._.lEDTileSpec.deleteMany({where:{productId:e}}),await p._.lEDProcessorSpec.deleteMany({where:{productId:e}}),await p._.powerEquipmentSpec.deleteMany({where:{productId:e}}),await p._.computingSpec.deleteMany({where:{productId:e}}),await p._.lightingSpec.deleteMany({where:{productId:e}}),await p._.audioSpec.deleteMany({where:{productId:e}}),await p._.cameraSpec.deleteMany({where:{productId:e}}),await p._.gripEquipmentSpec.deleteMany({where:{productId:e}}),await p._.structuralItemSpec.deleteMany({where:{productId:e}}),await p._.gripItemSpec.deleteMany({where:{productId:e}}),await p._.networkingSpec.deleteMany({where:{productId:e}}),await p._.cableSpec.deleteMany({where:{productId:e}}),await p._.hardwareSpec.deleteMany({where:{productId:e}}),await p._.product.delete({where:{id:e}}),l.Z.json({success:!0})}catch(e){return console.error("Error deleting product:",e),l.Z.json({error:"Failed to delete product"},{status:500})}}let s=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/products/[id]/route",pathname:"/api/products/[id]",filename:"route",bundlePath:"app/api/products/[id]/route"},resolvedPagePath:"D:\\Google Drive\\Code\\LED Quote Builder Cursor V1\\app\\api\\products\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:w,serverHooks:h,headerHooks:g,staticGenerationBailout:m}=s,M="/api/products/[id]/route";function y(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:w})}},8093:(e,t,a)=>{a.d(t,{_:()=>i});let r=require("@prisma/client"),i=globalThis.prisma??new r.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(4223));module.exports=r})();